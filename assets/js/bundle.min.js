(()=>{document.addEventListener("DOMContentLoaded",function(){async function a(f){f.preventDefault();let m=f.target,p=new FormData(m),r=m.previousElementSibling;r.textContent="Sending...",r.className="form-message";try{let g=await fetch(m.action,{method:m.method,body:p,headers:{Accept:"application/json"}});if(g.ok)r.textContent="Thank you! Your message has been sent successfully.",r.classList.add("show","success"),m.reset();else{let v=await g.json(),k=v.errors?v.errors.map(b=>b.message).join(", "):"Oops! There was a problem submitting your form.";throw new Error(k)}}catch(g){r.textContent=g.message||"An unexpected error occurred. Please try again.",r.classList.add("show","error")}finally{setTimeout(()=>{r.classList.remove("show")},5e3)}}let o=document.getElementById("contactForm"),d=document.getElementById("reviewForm");o&&o.addEventListener("submit",a),d&&d.addEventListener("submit",a)});document.addEventListener("DOMContentLoaded",()=>{let a=document.getElementById("darkModeToggle");a&&((localStorage.getItem("mode")||"light")==="dark"&&(document.body.classList.add("dark-mode"),a.textContent="\u2600\uFE0F"),a.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let g=document.body.classList.contains("dark-mode")?"dark":"light";localStorage.setItem("mode",g),a.textContent=g==="dark"?"\u2600\uFE0F":"\u{1F319}"}));let o=document.querySelector(".togglebtn"),d=document.querySelector(".navlinks");o&&d&&o.addEventListener("click",()=>{let r=d.classList.toggle("open");o.setAttribute("aria-expanded",r),o.classList.toggle("click",r)});let f=document.querySelector(".loading");f&&setTimeout(()=>{f.classList.add("hidden")},500);let m=window.location.pathname;document.querySelectorAll(".navlinks a").forEach(r=>{r.getAttribute("href")===m&&r.classList.add("active")})});var L=(a,o=document)=>o.querySelector(a),A=(a,o=document)=>Array.from(o.querySelectorAll(a)),M=(a,o)=>a&&a.classList.toggle(o),S=(a,o,d)=>a&&a.setAttribute(o,d);document.addEventListener("DOMContentLoaded",()=>{let a=L(".loading");a&&setTimeout(()=>{a.style.opacity="0",a.addEventListener("transitionend",()=>{a.style.display="none"},{once:!0})},1e3);let o=L("#darkModeToggle"),d=()=>{document.body.classList.contains("dark-mode")?o.textContent="\u2600\uFE0F":o.textContent="\u{1F319}"},f=localStorage.getItem("darkMode")==="enabled"||localStorage.getItem("darkMode")===null&&window.matchMedia("(prefers-color-scheme: dark)").matches;o&&(f?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),d(),o.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),d(),localStorage.setItem("darkMode",document.body.classList.contains("dark-mode")?"enabled":"disabled")}));let m=L(".togglebtn"),p=L(".navlinks");if(m&&p){let e=window.location.pathname,t=L(`.navlinks li a[href="${e}"]`);if(!t&&(e==="/"||e.endsWith("index.html"))){let s=L(".navlinks li a[href='/index.html']");s&&s.classList.add("active-page")}else t&&t.classList.add("active-page");m.addEventListener("click",()=>{let s=M(p,"open");M(m,"click"),S(m,"aria-expanded",s)}),p.addEventListener("click",s=>{s.target.tagName==="A"&&(p.classList.remove("open"),m.classList.remove("click"),S(m,"aria-expanded","false"))}),window.addEventListener("resize",()=>{window.innerWidth>768&&(p.classList.remove("open"),m.classList.remove("click"),S(m,"aria-expanded","false"))})}L(".input")&&new Typed(".input",{strings:["Junior Full Stack Developer","Junior Basic Game Developer","Programming Enthusiast"],typeSpeed:70,backSpeed:55,loop:!0,backDelay:2e3}),A("a[href^='#']").forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();let s=document.querySelector(this.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});let r={threshold:.1,rootMargin:"0px 0px -50px 0px"},g=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)",g.unobserve(t.target))})},r),v=L(".site-footer");v&&(v.style.opacity="0",v.style.transform="translateY(50px)",v.style.transition="opacity 0.6s ease, transform 0.6s ease",g.observe(v));let k=A(".certificate-card");k.forEach(e=>{e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false");let t=s=>{if(s.target.tagName==="A"||s.target.closest("a"))return;let h=e.classList.contains("active");k.forEach(u=>{u!==e&&u.classList.contains("active")&&(u.classList.remove("active"),u.setAttribute("aria-expanded","false"))}),h?(e.classList.remove("active"),e.setAttribute("aria-expanded","false")):(e.classList.add("active"),e.setAttribute("aria-expanded","true"))};e.addEventListener("click",t),e.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t(s))})});let b=L("#scrollTopBtn");if(b){let e=()=>{window.scrollY>300?b.classList.add("show"):b.classList.remove("show")};window.addEventListener("scroll",e),b.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}let n=A(".fade-in-card"),c={root:null,rootMargin:"0px",threshold:.2},i=new IntersectionObserver((e,t)=>{e.forEach(s=>{s.isIntersecting&&(s.target.classList.add("show"),t.unobserve(s.target))})},c);n.forEach(e=>i.observe(e))});document.addEventListener("DOMContentLoaded",()=>{let a=document.querySelectorAll(".skill-tabs .tab"),o=document.querySelectorAll(".skill-card"),d=document.getElementById("projectsDisplay"),f=document.getElementById("sort-select");function m(n){return n.getAttribute("data-skill")||""}function p(n){let c=n.dataset.projects;if(c)try{let e=JSON.parse(c).length;return Math.min(100,e*5)}catch{return 0}return 0}function r(n){let c=document.querySelector(".skills-grid"),i=Array.from(c.querySelectorAll(".skill-card:not(.hidden-skill)"));i.sort((e,t)=>{if(n==="name-asc"){let s=m(e).toUpperCase(),h=m(t).toUpperCase();return s>h?1:s<h?-1:0}else{if(n==="proficiency-desc")return p(t)-p(e);if(n==="proficiency-asc")return p(e)-p(t)}return 0}),i.forEach(e=>c.appendChild(e))}let g=null,v=(n,c)=>{d.innerHTML="",d.classList.remove("visible"),setTimeout(()=>{let i=document.createElement("h2");i.textContent=`Projects for ${n}`,d.appendChild(i),c.forEach(e=>{let t=document.createElement("a"),s=e.live!=="#"?e.live:e.repo;s==="#"&&(s=`https://github.com/search?q=${encodeURIComponent(n)}+user%3AElethuswrld&type=repositories`),t.href=s,t.target="_blank",t.rel="noopener noreferrer",t.classList.add("project-card-item"),t.setAttribute("aria-label",`View project: ${e.title}`);let h=document.createElement("img");h.src=e.img||"/assets/images/default-proj.jpg",h.alt=`${e.title} project image`,h.classList.add("project-image"),t.appendChild(h);let u=document.createElement("div");u.classList.add("project-info");let E=document.createElement("div");E.classList.add("project-title-container");let y=document.createElement("strong");if(y.textContent=e.title,E.appendChild(y),e.status){let l=document.createElement("span");l.classList.add("project-status-badge",e.status.toLowerCase().replace(" ","-")),l.textContent=e.status,E.appendChild(l)}let w=document.createElement("p");if(w.textContent=e.desc,u.appendChild(E),u.appendChild(w),e.tags&&Array.isArray(e.tags)){let l=document.createElement("div");l.classList.add("project-tags-container"),e.tags.forEach(I=>{let x=document.createElement("span");x.classList.add("project-tag"),x.textContent=I,l.appendChild(x)}),u.appendChild(l)}let C=document.createElement("div");if(C.style.marginTop="auto",e.repo!=="#"){let l=document.createElement("a");l.href=e.repo,l.target="_blank",l.classList.add("github-project"),l.innerHTML='<i class="fab fa-github"></i> Repository',l.style.marginRight="15px",C.appendChild(l)}if(e.live!=="#"){let l=document.createElement("a");l.href=e.live,l.target="_blank",l.classList.add("github-project"),l.innerHTML='<i class="fas fa-external-link-alt"></i> Live Demo',C.appendChild(l)}u.appendChild(C),t.appendChild(u),d.appendChild(t)}),c.length>0&&(d.classList.add("visible"),d.scrollIntoView({behavior:"smooth",block:"nearest"}))},250)};o.forEach(n=>{n.addEventListener("click",c=>{if(c.target.closest(".github-project"))return;let i=n.getAttribute("data-skill"),e=JSON.parse(n.getAttribute("data-projects")||"[]"),t=n.classList.contains("active");o.forEach(s=>s.classList.remove("active")),t?(d.classList.remove("visible"),g=null):(n.classList.add("active"),g=n,v(i,e))})}),a.forEach(n=>{n.addEventListener("click",()=>{o.forEach(i=>i.classList.remove("active")),d.classList.remove("visible"),g=null,a.forEach(i=>i.classList.remove("active")),n.classList.add("active");let c=n.getAttribute("data-filter");o.forEach(i=>{c==="all"||i.classList.contains(c)?i.classList.remove("hidden-skill"):i.classList.add("hidden-skill")}),setTimeout(()=>{f&&r(f.value)},100)})}),f&&(r(f.value),f.addEventListener("change",n=>{r(n.target.value)}));let k={root:null,rootMargin:"0px",threshold:.1};o.forEach(n=>{let c=n.querySelector(".progress-fill");c&&(c.style.width="0%")});let b=new IntersectionObserver((n,c)=>{n.forEach(i=>{if(i.isIntersecting){let e=i.target,t=p(e),s=e.querySelector(".proficiency-percentage"),h=e.querySelector(".progress-fill");if(h&&s){h.style.width=`${t}%`;let u=0,y=Math.abs(Math.floor(1e3/t)),w=setInterval(()=>{u++,s.textContent=`${u}%`,u>=t&&(clearInterval(w),s.textContent=`${t}%`)},y)}c.unobserve(e)}})},k);o.forEach(n=>b.observe(n))});})();
